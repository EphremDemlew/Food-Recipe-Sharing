import{f,o as l,L as S,C as E,d as B,w as L,e as b,N as p,_ as T,c,j as x,a,F as v,O as y,n as q,u as F,i as O,P as $,s as k,q as R,E as d,b as g,p as j,h as H}from"./entry-cae18f83.mjs";import{_ as V}from"./NewsletterForm-1b2617a7.mjs";import{u as I}from"./asyncData-7955449d.mjs";import{q as C}from"./query-d9bfbffa.mjs";import{g as z,a as J}from"./seo-c8575c94.mjs";import"./json-d073c9b0.mjs";import"./utils-f03b9c05.mjs";const U={props:["document"]};function W(e,o,n,r,i,t){const s=E;return l(),S(s,{value:n.document,class:"rendered-content"},null,8,["value"])}var G=f(U,[["render",W]]);const Y=B({__name:"SmallArticleCard",props:{title:null,slug:null,date:null},setup(e){return(o,n)=>{const r=T;return l(),S(r,{to:`/blog/${e.slug}`,class:"SmallCard"},{default:L(()=>[b(p(e.title),1)]),_:1},8,["to"])}}});var Z=f(Y,[["__scopeId","data-v-9d6e0eb8"]]);const K={name:"Toc",props:{toc:{type:Array,required:!0},depthLimit:{type:Number,default:3}},data:()=>({activeId:null}),beforeDestroy(){this.$observer&&this.$observer.disconnect()},mounted(){let e=!1;this.$observer=new IntersectionObserver(o=>{var r;const n=(r=document.querySelector("#toc-boundary"))==null?void 0:r.getBoundingClientRect();!n||(o.forEach(i=>{const t=i.boundingClientRect.y,s=this.toc.findIndex(h=>h.id===i.target.id),_=t<n.y;if(i.isIntersecting){this.activeId=this.toc[s].id;return}e&&!_&&s!==0&&(this.activeId=this.toc[s-1].id)}),e=!0)},{threshold:1,rootMargin:"0px 0px -70% 0px"}),this.toc.forEach(o=>{const n=document.querySelector(`#${o.id}`);n&&this.$observer.observe(n)})}},Q={class:"text-gray-600 dark:text-gray-100 rounded-lg py-4 px-4 bg-primary-nine w-max max-w-sm"},X={key:0,class:"flex font-medium text-lg items-center"},tt=a("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),et=b(" Table of contents "),st=[tt,et],ot={class:"mt-3 space-y-2 pl-8"},nt=["href"];function at(e,o,n,r,i,t){return l(),c("div",Q,[n.toc.length?(l(),c("div",X,st)):x("",!0),a("ul",ot,[(l(!0),c(v,null,y(n.toc,s=>(l(),c("li",{key:s.id},[a("a",{class:q(["transition-colors duration-300 hover:text-gray-600 dark:hover:text-white",{"pl-4":s.depth>2,"text-accent":e.activeId===s.id,"text-gray-400 dark:text-gray-300":e.activeId!==s.id}]),href:`#${s.id}`},p(s.text),11,nt)]))),128))])])}var rt=f(K,[["render",at]]);function it(e){return e===" "||e===`
`||e==="\r"||e==="	"}function lt(e,o){var n=0,r=0,i=e.length-1,t,s;for(o=o||{},o.wordsPerMinute=o.wordsPerMinute||200,t=o.wordBound||it;t(e[r]);)r++;for(;t(e[i]);)i--;for(s=r;s<=i;){for(;s<=i&&!t(e[s]);s++);for(n++;s<=i&&t(e[s]);s++);}var _=n/o.wordsPerMinute,h=_*60*1e3,u=Math.ceil(Number(_.toFixed(2)));return{text:u+" min read",minutes:_,time:h,words:n}}const w=e=>(j("data-v-0b991406"),e=e(),H(),e),ct=w(()=>a("div",{id:"toc-boundary",class:"fixed top-0 w-full inset-x-0"},null,-1)),dt={key:0,class:"mt-12 Post"},ut={class:"leading-tight font-bold"},mt={key:0,class:"mt-4 flex flex-wrap text-xs gap-3"},_t={class:"flex mt-4 items-center text-gray-700 dark:text-gray-400 text-sm font-bold space-x-2 lg:space-x-4"},pt={class:"py-2"},ht=w(()=>a("span",{class:"py-2 font-bold text-accent"},"|",-1)),gt={class:"py-2"},ft={class:"PostContent"},xt={class:"max-container"},vt=w(()=>a("h2",{class:"text-2xl text-center select-none"},"Other articles",-1)),yt={class:"mt-8 grid lg:grid-cols-2 gap-y-6 gap-x-6"},bt={class:"ml-10 hidden lg:block"},wt=B({__name:"[slug]",async setup(e){let o,n;const r=F(),i=O(),{data:t}=([o,n]=$(()=>I(`post-${r.params.slug}`,()=>C("blog").where({slug:String(r.params.slug)}).findOne(),"$pF3fvjtTUG")),o=await o,n(),o),{data:s}=([o,n]=$(()=>I(`recommended-posts-${r.params.slug}`,()=>C("blog").only(["title","date","slug"]).sort({date:-1}).where({slug:{$ne:String(r.params.slug)}}).limit(6).find(),"$rCyEmdHsgZ")),o=await o,n(),o),_=k(()=>{var u;return lt(((u=i.value)==null?void 0:u.textContent)||"").text}),h=k(()=>new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:"numeric"}).format(new Date(t.value.date)));return R(()=>{const u=z({title:t.value.title,tagline:t.value.description,imagePublicID:"blog/blog_template"});return{title:t.value.title,titleTemplate:"%s - Abdelrahman's Blog",meta:J({title:t.value.title,description:t.value.description,image:u,keywords:t.value.tags}),__dangerouslyDisableSanitizers:["script"],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:t.value.title,datePublished:t.value.isoDate,dateModified:t.value.isoDate,image:[u],author:{"@type":"Person",name:"Abdelrahman Awad"},description:t.value.description})},{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://logaretm.com"},{"@type":"ListItem",position:2,name:"Blog",item:"https://logaretm.com/blog"},{"@type":"ListItem",position:3,name:t.value.title,item:`https://logaretm.com/blog/${t.value.slug}`}]})}]}}),(u,$t)=>{const N=T,P=G,M=V,D=Z,A=rt;return l(),c("div",null,[ct,d(t)?(l(),c("div",dt,[a("h1",ut,p(d(t).title),1),d(t).tags?(l(),c("ul",mt,[(l(!0),c(v,null,y(d(t).tags,m=>(l(),c("li",{key:m,class:"Tag"},[g(N,{to:`/blog/tag/${m}`},{default:L(()=>[b("#"+p(m),1)]),_:2},1032,["to"])]))),128))])):x("",!0),a("div",_t,[a("span",pt,"Published "+p(d(h)),1),ht,a("span",gt,p(d(_)),1)]),a("div",ft,[a("div",{ref_key:"contentEl",ref:i,class:"content-wrapper flex-shrink min-w-0"},[g(P,{class:"mt-4 content",document:d(t)},null,8,["document"]),g(M),a("section",xt,[vt,a("ul",yt,[(l(!0),c(v,null,y(d(s),(m,kt)=>(l(),c("li",{key:m.slug},[g(D,{title:m.title,slug:m.slug,date:m.date},null,8,["title","slug","date"])]))),128))])])],512),a("aside",bt,[g(A,{class:"sticky top-28",toc:d(t).body.toc.links||[],"depth-limit":d(t).body.toc.depth},null,8,["toc","depth-limit"])])])])):x("",!0)])}}});var Pt=f(wt,[["__scopeId","data-v-0b991406"]]);export{Pt as default};
